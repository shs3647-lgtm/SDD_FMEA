# ğŸ“Š FMEA DB ìŠ¤í‚¤ë§ˆ ì •ì˜ì„œ

> **ë²„ì „**: 2.0.0  
> **ìµœì¢… ìˆ˜ì •ì¼**: 2026-01-03  
> **ì‘ì„±ì**: AI Assistant  

---

## 1. ì„¤ê³„ ì›ì¹™

1. **ì›ìì„± (Atomicity)**: ëª¨ë“  ë°ì´í„°ëŠ” ì›ìì  ë‹¨ìœ„(Atomic Unit)ë¡œ ë¶„ë¦¬
2. **FK ì°¸ì¡°**: ìƒìœ„-í•˜ìœ„ ê´€ê³„ëŠ” ì™¸ë˜í‚¤(FK)ë¡œ ëª…ì‹œì  ì—°ê²°
3. **ìë™ë³€í™˜ ê¸ˆì§€**: ì‚¬ìš©ì ì…ë ¥ê°’ ê·¸ëŒ€ë¡œ ì €ì¥
4. **ì…€í•©ì¹˜ê¸° ë¶„ë¦¬**: rowSpanì€ í‘œì‹œìš©ì´ë©° ë°ì´í„° ì›ìì„±ì— ì˜í–¥ ì—†ìŒ

---

## 2. ì „ì²´ ERD (Entity Relationship Diagram)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                               FMEA ì›ìì„± ê´€ê³„í˜• DB ìŠ¤í‚¤ë§ˆ                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                                        â”‚
â”‚  â”‚ APQPProject â”‚  â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ìµœìƒìœ„ ì»¨í…Œì´ë„ˆ                                  â”‚
â”‚  â”‚ (í”„ë¡œì íŠ¸)   â”‚                                                                        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                                                                        â”‚
â”‚         â”‚ 1:N                                                                           â”‚
â”‚         â–¼                                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                           FMEA ì›Œí¬ì‹œíŠ¸ (7ë‹¨ê³„)                                    â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚                                                                                  â”‚   â”‚
â”‚  â”‚  [2ë‹¨ê³„] êµ¬ì¡°ë¶„ì„          [3ë‹¨ê³„] ê¸°ëŠ¥ë¶„ì„           [4ë‹¨ê³„] ê³ ì¥ë¶„ì„            â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚   â”‚
â”‚  â”‚  â”‚ L1Structure   â”‚â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚ L1Function    â”‚â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚ FailureEffect â”‚           â”‚   â”‚
â”‚  â”‚  â”‚ (ì™„ì œí’ˆê³µì •)   â”‚  FK    â”‚ (ì™„ì œí’ˆê¸°ëŠ¥)   â”‚   FK    â”‚ (ê³ ì¥ì˜í–¥/FE)  â”‚           â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚   â”‚
â”‚  â”‚          â”‚ 1:N                                              â”‚                    â”‚   â”‚
â”‚  â”‚          â–¼                                                  â”‚ N:1               â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”           â”‚   â”‚
â”‚  â”‚  â”‚ L2Structure   â”‚â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚ L2Function    â”‚â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚ FailureMode   â”‚â—„â”€ ì¤‘ì‹¬ì¶•   â”‚   â”‚
â”‚  â”‚  â”‚ (ë©”ì¸ê³µì •)     â”‚  FK    â”‚ (ë©”ì¸ê³µì •ê¸°ëŠ¥) â”‚   FK    â”‚ (ê³ ì¥í˜•íƒœ/FM)  â”‚           â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚   â”‚
â”‚  â”‚          â”‚ 1:N                                              â”‚ N:1               â”‚   â”‚
â”‚  â”‚          â–¼                                                  â”‚                    â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”           â”‚   â”‚
â”‚  â”‚  â”‚ L3Structure   â”‚â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚ L3Function    â”‚â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚ FailureCause  â”‚           â”‚   â”‚
â”‚  â”‚  â”‚ (ì‘ì—…ìš”ì†Œ)     â”‚  FK    â”‚ (ì‘ì—…ìš”ì†Œê¸°ëŠ¥) â”‚   FK    â”‚ (ê³ ì¥ì›ì¸/FC)  â”‚           â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚   â”‚
â”‚  â”‚                                                                                  â”‚   â”‚
â”‚  â”‚                         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                      â”‚   â”‚
â”‚  â”‚                         â”‚  FailureLink    â”‚â—„â”€â”€â”€â”€â”€â”€ ê´€ê³„ í…Œì´ë¸” (FM ì¤‘ì‹¬ ì—°ê²°)      â”‚   â”‚
â”‚  â”‚                         â”‚ (ê³ ì¥ì—°ê²°)       â”‚        FM â†” FE, FM â†” FC             â”‚   â”‚
â”‚  â”‚                         â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                      â”‚   â”‚
â”‚  â”‚                                  â”‚ 1:1                                           â”‚   â”‚
â”‚  â”‚  [5ë‹¨ê³„] ë¦¬ìŠ¤í¬ë¶„ì„              â–¼                    [6ë‹¨ê³„] ìµœì í™”              â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                      â”‚   â”‚
â”‚  â”‚  â”‚ RiskAnalysis  â”‚â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚ Optimization  â”‚                                      â”‚   â”‚
â”‚  â”‚  â”‚ (AP/SOD)      â”‚   FK   â”‚ (ê°œì„ ì¡°ì¹˜)     â”‚                                      â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                      â”‚   â”‚
â”‚  â”‚                                                                                  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                              ê³µìœ  ë§ˆìŠ¤í„° ë°ì´í„°                                    â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚  ProcessMaster â—„â”€â”€â”€â–º WorkElementMaster â—„â”€â”€â”€â–º SpecialCharacteristic              â”‚   â”‚
â”‚  â”‚  (ê³µì • ë§ˆìŠ¤í„°)        (ì‘ì—…ìš”ì†Œ ë§ˆìŠ¤í„°)         (íŠ¹ë³„íŠ¹ì„± ë§ˆìŠ¤í„°)                    â”‚   â”‚
â”‚  â”‚       â”‚                     â”‚                        â”‚                           â”‚   â”‚
â”‚  â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                           â”‚   â”‚
â”‚  â”‚                             â–¼                                                    â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                       â”‚   â”‚
â”‚  â”‚  â”‚ ControlPlan â”‚     PFD     â”‚ WorkStandardâ”‚     PM      â”‚                       â”‚   â”‚
â”‚  â”‚  â”‚ (ê´€ë¦¬ê³„íšì„œ) â”‚ (ê³µì •íë¦„ë„) â”‚ (ì‘ì—…í‘œì¤€)   â”‚ (ì˜ˆë°©ë³´ì „)  â”‚                       â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                       â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 3. í…Œì´ë¸” ìƒì„¸ ì •ì˜

### 3.1 ê¸°ë³¸ ì›ì ë‹¨ìœ„ (AtomicRecord)

ëª¨ë“  í…Œì´ë¸”ì˜ ê¸°ë³¸ ì¸í„°í˜ì´ìŠ¤:

```typescript
interface AtomicRecord {
  id: string;           // ê³ ìœ  ID (PK)
  createdAt?: string;   // ìƒì„±ì¼
  updatedAt?: string;   // ìˆ˜ì •ì¼
}
```

---

### 3.2 êµ¬ì¡°ë¶„ì„ (2ë‹¨ê³„) - Structure Tables

#### L1Structure (ì™„ì œí’ˆ ê³µì •)

| ì»¬ëŸ¼ | íƒ€ì… | ì„¤ëª… | ë¹„ê³  |
|------|------|------|------|
| `id` | string | PK | ê³ ìœ  ID |
| `fmeaId` | string | FK | FMEA í”„ë¡œì íŠ¸ ID |
| `name` | string | ì™„ì œí’ˆ ê³µì •ëª… | í•„ìˆ˜ |
| `confirmed` | boolean | í™•ì • ìƒíƒœ | ì„ íƒ |

#### L2Structure (ë©”ì¸ê³µì •)

| ì»¬ëŸ¼ | íƒ€ì… | ì„¤ëª… | ë¹„ê³  |
|------|------|------|------|
| `id` | string | PK | ê³ ìœ  ID |
| `fmeaId` | string | FK | FMEA í”„ë¡œì íŠ¸ ID |
| `l1Id` | string | FK | L1Structure.id (ìƒìœ„) |
| `no` | string | ê³µì • ë²ˆí˜¸ | ì˜ˆ: 10, 20, 30 |
| `name` | string | ê³µì •ëª… | í•„ìˆ˜ |
| `order` | number | ìˆœì„œ | ì •ë ¬ìš© |

#### L3Structure (ì‘ì—…ìš”ì†Œ)

| ì»¬ëŸ¼ | íƒ€ì… | ì„¤ëª… | ë¹„ê³  |
|------|------|------|------|
| `id` | string | PK | ê³ ìœ  ID |
| `fmeaId` | string | FK | FMEA í”„ë¡œì íŠ¸ ID |
| `l1Id` | string | FK | L1Structure.id (ì—°ê²°ìš©) |
| `l2Id` | string | FK | L2Structure.id (ìƒìœ„ ê³µì •) |
| `m4` | enum | 4M ë¶„ë¥˜ | 'MN' \| 'MC' \| 'IM' \| 'EN' \| '' |
| `name` | string | ì‘ì—…ìš”ì†Œëª… | í•„ìˆ˜ |
| `order` | number | ìˆœì„œ | ì •ë ¬ìš© |

---

### 3.3 ê¸°ëŠ¥ë¶„ì„ (3ë‹¨ê³„) - Function Tables

#### L1Function (ì™„ì œí’ˆ ê¸°ëŠ¥)

| ì»¬ëŸ¼ | íƒ€ì… | ì„¤ëª… | ë¹„ê³  |
|------|------|------|------|
| `id` | string | PK | ê³ ìœ  ID |
| `fmeaId` | string | FK | FMEA í”„ë¡œì íŠ¸ ID |
| `l1StructId` | string | FK | L1Structure.id |
| `category` | enum | êµ¬ë¶„ | 'Your Plant' \| 'Ship to Plant' \| 'User' |
| `functionName` | string | ê¸°ëŠ¥ëª… | í•„ìˆ˜ |
| `requirement` | string | ìš”êµ¬ì‚¬í•­ | ì›ì ë‹¨ìœ„ |

#### L2Function (ë©”ì¸ê³µì • ê¸°ëŠ¥)

| ì»¬ëŸ¼ | íƒ€ì… | ì„¤ëª… | ë¹„ê³  |
|------|------|------|------|
| `id` | string | PK | ê³ ìœ  ID |
| `fmeaId` | string | FK | FMEA í”„ë¡œì íŠ¸ ID |
| `l2StructId` | string | FK | L2Structure.id |
| `functionName` | string | ê¸°ëŠ¥ëª… | í•„ìˆ˜ |
| `productChar` | string | ì œí’ˆíŠ¹ì„± | ì›ì ë‹¨ìœ„ |
| `specialChar` | string | íŠ¹ë³„íŠ¹ì„± | CC/SC/HC |

#### L3Function (ì‘ì—…ìš”ì†Œ ê¸°ëŠ¥)

| ì»¬ëŸ¼ | íƒ€ì… | ì„¤ëª… | ë¹„ê³  |
|------|------|------|------|
| `id` | string | PK | ê³ ìœ  ID |
| `fmeaId` | string | FK | FMEA í”„ë¡œì íŠ¸ ID |
| `l3StructId` | string | FK | L3Structure.id |
| `l2StructId` | string | FK | L2Structure.id (ì—°ê²°ìš©) |
| `functionName` | string | ê¸°ëŠ¥ëª… | í•„ìˆ˜ |
| `processChar` | string | ê³µì •íŠ¹ì„± | ì›ì ë‹¨ìœ„ |
| `specialChar` | string | íŠ¹ë³„íŠ¹ì„± | CC/SC/HC |

---

### 3.4 ê³ ì¥ë¶„ì„ (4ë‹¨ê³„) - Failure Tables

#### FailureEffect (ê³ ì¥ì˜í–¥ - FE)

| ì»¬ëŸ¼ | íƒ€ì… | ì„¤ëª… | ë¹„ê³  |
|------|------|------|------|
| `id` | string | PK | ê³ ìœ  ID |
| `fmeaId` | string | FK | FMEA í”„ë¡œì íŠ¸ ID |
| `l1FuncId` | string | FK | L1Function.id (ìƒìœ„ ìš”êµ¬ì‚¬í•­) |
| `category` | enum | êµ¬ë¶„ | 'Your Plant' \| 'Ship to Plant' \| 'User' |
| `effect` | string | ê³ ì¥ì˜í–¥ ë‚´ìš© | í•„ìˆ˜ |
| `severity` | number | ì‹¬ê°ë„ | 1-10 |

#### FailureMode (ê³ ì¥í˜•íƒœ - FM) â˜… ì¤‘ì‹¬ì¶•

| ì»¬ëŸ¼ | íƒ€ì… | ì„¤ëª… | ë¹„ê³  |
|------|------|------|------|
| `id` | string | PK | ê³ ìœ  ID |
| `fmeaId` | string | FK | FMEA í”„ë¡œì íŠ¸ ID |
| `l2FuncId` | string | FK | L2Function.id (ìƒìœ„ ì œí’ˆíŠ¹ì„±) |
| `l2StructId` | string | FK | L2Structure.id (ì—­ì „ê°œìš©) |
| `productCharId` | string | FK | ì œí’ˆíŠ¹ì„± ì—°ê²°ìš© |
| `mode` | string | ê³ ì¥í˜•íƒœ ë‚´ìš© | í•„ìˆ˜ |
| `specialChar` | boolean | íŠ¹ë³„íŠ¹ì„± ì—¬ë¶€ | - |

#### FailureCause (ê³ ì¥ì›ì¸ - FC)

| ì»¬ëŸ¼ | íƒ€ì… | ì„¤ëª… | ë¹„ê³  |
|------|------|------|------|
| `id` | string | PK | ê³ ìœ  ID |
| `fmeaId` | string | FK | FMEA í”„ë¡œì íŠ¸ ID |
| `l3FuncId` | string | FK | L3Function.id (ìƒìœ„ ê³µì •íŠ¹ì„±) |
| `l3StructId` | string | FK | L3Structure.id (ì—­ì „ê°œìš©) |
| `l2StructId` | string | FK | L2Structure.id (ì—°ê²°ìš©) |
| `cause` | string | ê³ ì¥ì›ì¸ ë‚´ìš© | í•„ìˆ˜ |
| `occurrence` | number | ë°œìƒë„ | 1-10 |

#### FailureLink (ê³ ì¥ì—°ê²° - ê´€ê³„ í…Œì´ë¸”)

| ì»¬ëŸ¼ | íƒ€ì… | ì„¤ëª… | ë¹„ê³  |
|------|------|------|------|
| `id` | string | PK | ê³ ìœ  ID |
| `fmeaId` | string | FK | FMEA í”„ë¡œì íŠ¸ ID |
| `fmId` | string | FK | FailureMode.id (ì¤‘ì‹¬ì¶•) |
| `feId` | string | FK | FailureEffect.id |
| `fcId` | string | FK | FailureCause.id |
| `cache` | object | ìºì‹œ ë°ì´í„° | ì¡°íšŒ ì„±ëŠ¥ ìµœì í™” |

**ê´€ê³„**:
- FM 1 : N FE (ê³ ì¥í˜•íƒœ í•˜ë‚˜ì— ì—¬ëŸ¬ ê³ ì¥ì˜í–¥)
- FM 1 : N FC (ê³ ì¥í˜•íƒœ í•˜ë‚˜ì— ì—¬ëŸ¬ ê³ ì¥ì›ì¸)

---

### 3.5 ë¦¬ìŠ¤í¬/ìµœì í™” (5-6ë‹¨ê³„)

#### RiskAnalysis (ë¦¬ìŠ¤í¬ ë¶„ì„)

| ì»¬ëŸ¼ | íƒ€ì… | ì„¤ëª… | ë¹„ê³  |
|------|------|------|------|
| `id` | string | PK | ê³ ìœ  ID |
| `fmeaId` | string | FK | FMEA í”„ë¡œì íŠ¸ ID |
| `linkId` | string | FK | FailureLink.id |
| `severity` | number | ì‹¬ê°ë„ (S) | 1-10 |
| `occurrence` | number | ë°œìƒë„ (O) | 1-10 |
| `detection` | number | ê²€ì¶œë„ (D) | 1-10 |
| `ap` | enum | Action Priority | 'H' \| 'M' \| 'L' |
| `preventionControl` | string | ì˜ˆë°©ê´€ë¦¬ | - |
| `detectionControl` | string | ê²€ì¶œê´€ë¦¬ | - |

#### Optimization (ìµœì í™”)

| ì»¬ëŸ¼ | íƒ€ì… | ì„¤ëª… | ë¹„ê³  |
|------|------|------|------|
| `id` | string | PK | ê³ ìœ  ID |
| `fmeaId` | string | FK | FMEA í”„ë¡œì íŠ¸ ID |
| `riskId` | string | FK | RiskAnalysis.id |
| `recommendedAction` | string | ê¶Œê³  ì¡°ì¹˜ | í•„ìˆ˜ |
| `responsible` | string | ë‹´ë‹¹ì | í•„ìˆ˜ |
| `targetDate` | string | ëª©í‘œì¼ | YYYY-MM-DD |
| `newSeverity` | number | ê°œì„  í›„ S | 1-10 |
| `newOccurrence` | number | ê°œì„  í›„ O | 1-10 |
| `newDetection` | number | ê°œì„  í›„ D | 1-10 |
| `newAP` | enum | ê°œì„  í›„ AP | 'H' \| 'M' \| 'L' |
| `status` | enum | ìƒíƒœ | 'planned' \| 'in_progress' \| 'completed' |
| `completedDate` | string | ì™„ë£Œì¼ | YYYY-MM-DD |

---

## 4. ê³µìœ  ë§ˆìŠ¤í„° í…Œì´ë¸”

### 4.1 APQPProject (í”„ë¡œì íŠ¸)

| ì»¬ëŸ¼ | íƒ€ì… | ì„¤ëª… |
|------|------|------|
| `id` | string | PK |
| `name` | string | í”„ë¡œì íŠ¸ëª… |
| `productName` | string | ì œí’ˆëª… |
| `customerName` | string | ê³ ê°ì‚¬ |
| `status` | enum | 'planning' \| 'development' \| 'production' \| 'closed' |
| `startDate` | string | ì‹œì‘ì¼ |
| `targetDate` | string | ëª©í‘œì¼ |

### 4.2 ProcessMaster (ê³µì • ë§ˆìŠ¤í„°)

| ì»¬ëŸ¼ | íƒ€ì… | ì„¤ëª… |
|------|------|------|
| `id` | string | PK |
| `apqpId` | string | FK: APQPProject.id |
| `no` | string | ê³µì • ë²ˆí˜¸ |
| `name` | string | ê³µì •ëª… |
| `order` | number | ìˆœì„œ |
| `description` | string | ì„¤ëª… |

**ê³µìœ  ë²”ìœ„**: PFMEA, CP, PFD, WS, PM

### 4.3 WorkElementMaster (ì‘ì—…ìš”ì†Œ ë§ˆìŠ¤í„°)

| ì»¬ëŸ¼ | íƒ€ì… | ì„¤ëª… |
|------|------|------|
| `id` | string | PK |
| `apqpId` | string | FK: APQPProject.id |
| `processId` | string | FK: ProcessMaster.id |
| `m4` | enum | 4M ë¶„ë¥˜ |
| `name` | string | ì‘ì—…ìš”ì†Œëª… |
| `order` | number | ìˆœì„œ |

### 4.4 SpecialCharacteristic (íŠ¹ë³„íŠ¹ì„±)

| ì»¬ëŸ¼ | íƒ€ì… | ì„¤ëª… |
|------|------|------|
| `id` | string | PK |
| `apqpId` | string | FK: APQPProject.id |
| `type` | enum | 'CC' \| 'SC' \| 'HIC' \| 'SIC' |
| `symbol` | string | íŠ¹ì„± ê¸°í˜¸ (â—‡, â—†, â—‹, â—) |
| `name` | string | íŠ¹ì„±ëª… |
| `specification` | string | ê·œê²©/ìŠ¤í™ |
| `tolerance` | string | ê³µì°¨ |
| `sourceType` | enum | 'DFMEA' \| 'PFMEA' \| 'Customer' \| 'Internal' \| 'Regulation' |
| `sourceId` | string | FK: ì›ì²œ FMEA ID |
| `processId` | string | FK: ProcessMaster.id |
| `status` | enum | 'draft' \| 'approved' \| 'active' \| 'obsolete' |

**ê³µìœ  ë²”ìœ„**: DFMEA, PFMEA, CP, PFD, WS, PM (ì „ì²´)

---

## 5. FMEA ì›Œí¬ì‹œíŠ¸ DB í†µí•© êµ¬ì¡°

```typescript
interface FMEAWorksheetDB {
  fmeaId: string;
  savedAt: string;
  
  // êµ¬ì¡°ë¶„ì„ (2ë‹¨ê³„)
  l1Structure: L1Structure | null;
  l2Structures: L2Structure[];
  l3Structures: L3Structure[];
  
  // ê¸°ëŠ¥ë¶„ì„ (3ë‹¨ê³„)
  l1Functions: L1Function[];
  l2Functions: L2Function[];
  l3Functions: L3Function[];
  
  // ê³ ì¥ë¶„ì„ (4ë‹¨ê³„)
  failureEffects: FailureEffect[];
  failureModes: FailureMode[];
  failureCauses: FailureCause[];
  failureLinks: FailureLink[];
  
  // ë¦¬ìŠ¤í¬/ìµœì í™” (5-6ë‹¨ê³„)
  riskAnalyses: RiskAnalysis[];
  optimizations: Optimization[];
  
  // í™•ì • ìƒíƒœ
  confirmed: {
    structure: boolean;
    l1Function: boolean;
    l2Function: boolean;
    l3Function: boolean;
    l1Failure: boolean;
    l2Failure: boolean;
    l3Failure: boolean;
    failureLink: boolean;
    risk: boolean;
    optimization: boolean;
  };
}
```

---

## 6. FK ê´€ê³„ ìš”ì•½ ë‹¤ì´ì–´ê·¸ë¨

```
L1Structure â”€â”€â”¬â”€â”€â–º L2Structure â”€â”€â”¬â”€â”€â–º L3Structure
              â”‚                  â”‚
              â–¼                  â–¼
         L1Function         L2Function â”€â”€â–º L3Function
              â”‚                  â”‚              â”‚
              â–¼                  â–¼              â–¼
       FailureEffect â—„â”€â”€â”€â”€ FailureMode â—„â”€â”€â”€â”€ FailureCause
              â”‚                  â”‚              â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º FailureLink â—„â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                                 â–¼
                          RiskAnalysis
                                 â”‚
                                 â–¼
                           Optimization
```

---

## 7. ì•½ì–´ ì •ì˜

| ì•½ì–´ | ì˜ë¬¸ | í•œê¸€ | ë²”ìœ„/ê°’ |
|------|------|------|---------|
| **4M** | - | 4M ë¶„ë¥˜ | MN(Man), MC(Machine), IM(In-Material), EN(Environment) |
| **FE** | Failure Effect | ê³ ì¥ì˜í–¥ | 1L |
| **FM** | Failure Mode | ê³ ì¥í˜•íƒœ | 2L (ì¤‘ì‹¬ì¶•) |
| **FC** | Failure Cause | ê³ ì¥ì›ì¸ | 3L |
| **S** | Severity | ì‹¬ê°ë„ | 1-10 |
| **O** | Occurrence | ë°œìƒë„ | 1-10 |
| **D** | Detection | ê²€ì¶œë„ | 1-10 |
| **AP** | Action Priority | ì¡°ì¹˜ìš°ì„ ìˆœìœ„ | H(High), M(Medium), L(Low) |
| **RPN** | Risk Priority Number | ìœ„í—˜ìš°ì„ ìˆœìœ„ | SÃ—OÃ—D (1-1000) |
| **PC** | Prevention Control | ì˜ˆë°©ê´€ë¦¬ | - |
| **DC** | Detection Control | ê²€ì¶œê´€ë¦¬ | - |
| **SC** | Special Characteristic | íŠ¹ë³„íŠ¹ì„± | CC, SC, HC ë“± |

---

## 8. êµ¬ë¶„ (Category) ì •ì˜

| ê°’ | ì˜ë¬¸ | í•œê¸€ | ì„¤ëª… |
|----|------|------|------|
| `Your Plant` | Your Plant | ìì‚¬ | ìì‚¬ ê³µì¥ ë‚´ ì˜í–¥ |
| `Ship to Plant` | Ship to Plant | ê³ ê°ì‚¬ | ê³ ê°ì‚¬ ê³µì¥ ì˜í–¥ |
| `User` | User | ì‚¬ìš©ì | ìµœì¢… ì‚¬ìš©ì ì˜í–¥ |

> âš ï¸ **ì£¼ì˜**: EU (End User) ì•½ì–´ëŠ” ì‚¬ìš© ê¸ˆì§€

---

## 9. ê´€ë ¨ íŒŒì¼

| íŒŒì¼ | ì„¤ëª… |
|------|------|
| `src/app/pfmea/worksheet/schema.ts` | FMEA ì›ìì„± DB ìŠ¤í‚¤ë§ˆ ì •ì˜ |
| `src/app/pfmea/worksheet/schemaTypes.ts` | íƒ€ì… ì •ì˜ (ë¶„ë¦¬) |
| `src/lib/shared-schema.ts` | ê³µìœ  ë§ˆìŠ¤í„° ìŠ¤í‚¤ë§ˆ |
| `src/app/pfmea/worksheet/migration.ts` | ë°ì´í„° ë§ˆì´ê·¸ë ˆì´ì…˜ |
| `src/app/pfmea/worksheet/terminology.ts` | ìš©ì–´ ì •ì˜ |

---

## ë³€ê²½ ì´ë ¥

| ë²„ì „ | ë‚ ì§œ | ë³€ê²½ ë‚´ìš© |
|------|------|----------|
| 2.0.0 | 2026-01-03 | ë¬¸ì„œ ìƒì„± - ì›ìì„± ê´€ê³„í˜• DB ìŠ¤í‚¤ë§ˆ ì •ë¦¬ |
| 1.0.0 | 2025-12-27 | ì´ˆê¸° ìŠ¤í‚¤ë§ˆ ì„¤ê³„ |

