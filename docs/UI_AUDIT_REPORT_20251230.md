# 📊 P-FMEA 화면 표준화 감사 보고서

> **감사일**: 2025-12-30  
> **버전**: v1.0  
> **감사자**: AI Assistant  
> **목적**: 전체 워크시트 및 모달 UI/UX 표준화 준수 여부 확인

---

## 📋 요약

### ✅ 주요 성과
- **6개 분석 탭**이 이미 완벽히 표준 준수
- **확정/누락/수정 버튼** 모두 상단 우측 배치
- **일관된 색상 체계** 적용
- **누락 건수 계산** 로직 구현

### ⚠️ 개선 필요
- **고장연결 탭**: 색상/폰트가 분석 화면과 불일치
- **모달**: 버튼 위치 분산, 그리드 레이아웃 미적용

---

## 1. 워크시트 탭 감사 결과

### 1.1 분석 탭 (✅ 표준 준수)

| 탭 이름 | 확정 | 누락 | 수정 | 색상 | 폰트 | 상태 |
|---------|------|------|------|------|------|------|
| **구조분석** | ✅ | ✅ | ✅ | ✅ | ✅ | ✅ **완벽** |
| **기능분석 L1** | ✅ | ✅ | ✅ | ✅ | ✅ | ✅ **완벽** |
| **기능분석 L2** | ✅ | ✅ | ✅ | ✅ | ✅ | ✅ **완벽** |
| **기능분석 L3** | ✅ | ✅ | ✅ | ✅ | ✅ | ✅ **완벽** |
| **고장분석 L1** | ✅ | ✅ | ✅ | ✅ | ✅ | ✅ **완벽** |
| **고장분석 L2** | ✅ | ✅ | ✅ | ✅ | ✅ | ✅ **완벽** |
| **고장분석 L3** | ✅ | ✅ | ✅ | ✅ | ✅ | ✅ **완벽** |

#### 표준 준수 사항
```typescript
// ✅ 버튼 배치: 상단 우측
<div className="header-buttons">
  <button>확정</button>
  <span>누락 {count}건</span>
  <button>수정</button>
</div>

// ✅ 색상 체계: 단계별 통일
구조분석: #1976d2 (파란색)
기능분석: #1b5e20 (초록색)
고장분석: #c62828 (빨간색)

// ✅ 누락 건수: 자동 계산
missingCount = effectCount + modeCount + causeCount
```

---

### 1.2 고장연결 탭 (⚠️ 개선 필요)

**파일**: `src/app/pfmea/worksheet/tabs/failure/FailureLinkTab.tsx`

#### 문제점

1. **색상 불일치** ❌
```typescript
// 현재: 독자적인 색상
const COLORS = {
  blue: '#2b78c5',      // ❌ 표준 #1976d2와 다름
  fe: { text: '#1565c0' },  // ❌ 표준 #c62828과 다름
  fm: { text: '#f57c00' },  // ❌ 일관성 없음
  fc: { text: '#2e7d32' }   // ❌ 표준과 다름
};
```

2. **폰트 크기 불일치** ⚠️
```
분석 화면: 11px~12px
고장연결: 10px~14px (불규칙)
```

3. **버튼 레이아웃** ⚠️
```
- 저장 버튼이 트리뷰 하단에 있음
- 확정/수정 버튼 없음
```

#### 개선 방안

```typescript
// ✅ 표준 색상 적용
const COLORS = {
  structure: '#1976d2',  // 구조분석
  function: '#1b5e20',   // 기능분석
  failure: '#c62828',    // 고장분석 (FE/FM/FC 공통)
  link: '#6a1b9a'        // 연결선
};

// ✅ 폰트 크기 통일
const FONT_SIZES = {
  header: '12px',
  cell: '10px',
  label: '11px'
};

// ✅ 버튼 위치 변경
헤더 우측: [확정] [누락 N건] [수정]
```

---

## 2. 모달 감사 결과

### 2.1 DataSelectModal (⚠️ 개선 필요)

**파일**: `src/components/modals/DataSelectModal.tsx`

#### 현재 구조

```
┌────────────────────────────────────────┐
│ 📋 타이틀                      [닫기] │ ← 헤더
├────────────────────────────────────────┤
│ ★ 상위: [고정 배지] ✅                │
├────────────────────────────────────────┤
│ 검색... [전체][해제][적용][삭제]      │ ← ❌ 버튼 분산
├────────────────────────────────────────┤
│ ☑ 항목1  ☐ 항목2                      │ ← ⚠️ 그리드 미흡
└────────────────────────────────────────┘
```

#### 문제점

1. **버튼 위치 분산** ❌
   - 저장/취소 버튼이 없음
   - 기능 버튼이 검색 영역에 있음

2. **그리드 레이아웃 미흡** ⚠️
   - 2열 그리드이지만 간격/정렬 불균형
   - 항목 높이 불균일

3. **색상 일관성** ⚠️
   - 모달마다 다른 색상 사용

#### 개선 방안 (바둑판 레이아웃)

```
┌────────────────────────────────────────┐
│ 📋 타이틀         [💾 저장] [취소]    │ ← ✅ 상단 우측
├────────────────────────────────────────┤
│ ★ 상위: [고정 배지] ✅                │
├────────────────────────────────────────┤
│ [검색...]                              │
├────────────────────────────────────────┤
│ ┌──────────┬──────────┬──────────┐    │ ← ✅ 정돈된 그리드
│ │ ☑ 항목1  │ ☐ 항목2  │ ☑ 항목3  │    │
│ ├──────────┼──────────┼──────────┤    │
│ │ ☐ 항목4  │ ☑ 항목5  │ ☐ 항목6  │    │
│ └──────────┴──────────┴──────────┘    │
├────────────────────────────────────────┤
│              ✓ 3개 선택                │
└────────────────────────────────────────┘
```

---

### 2.2 기타 모달

| 모달 이름 | 버튼 위치 | 그리드 | 상위 표시 | 상태 |
|-----------|----------|--------|----------|------|
| SODSelectModal | ⚠️ | ⚠️ | ⚠️ | 확인 필요 |
| SpecialCharSelectModal | ⚠️ | ⚠️ | ⚠️ | 확인 필요 |
| FailureEffectSelectModal | ⚠️ | ⚠️ | ⚠️ | 확인 필요 |

---

## 3. 색상 표준화 현황

### 3.1 분석 화면 (✅ 완벽)

```typescript
const STEP_COLORS = {
  structure: '#1976d2',  // 파란색
  function: '#1b5e20',   // 초록색
  failure: '#c62828',    // 빨간색
  risk: '#6a1b9a',       // 보라색
  opt: '#e65100'         // 주황색
};
```

### 3.2 고장연결 (❌ 불일치)

```typescript
// 현재
fe: '#1565c0'  // ❌ 다른 파란색
fm: '#f57c00'  // ❌ 주황색 (표준 없음)
fc: '#2e7d32'  // ❌ 다른 초록색

// 표준
fe/fm/fc: '#c62828'  // ✅ 고장분석 빨간색으로 통일
```

---

## 4. 폰트 표준화 현황

### 4.1 분석 화면 (✅ 일관성)

```typescript
헤더: 12px, 700
버튼: 11px, 700
셀: 10px, 400
배지: 8px, 700
```

### 4.2 고장연결 (⚠️ 불규칙)

```
헤더: 10px~14px
버튼: 9px~12px
셀: 8px~10px
```

---

## 5. 개선 우선순위

### 🔴 우선순위 1 (즉시)
1. **DataSelectModal 버튼 위치 변경**
   - 저장/취소 버튼을 상단 우측으로 이동

2. **고장연결 탭 색상 표준화**
   - FE/FM/FC를 고장분석 색상(#c62828)으로 통일

### 🟡 우선순위 2 (중요)
3. **모달 그리드 레이아웃 적용**
   - 2-3열 그리드 시스템 구현
   - 일정한 간격/높이 유지

4. **고장연결 탭 폰트 표준화**
   - 분석 화면과 동일한 폰트 크기 적용

### 🟢 우선순위 3 (개선)
5. **기타 모달 표준화**
   - SODSelectModal, SpecialCharSelectModal 등
   - 일관된 레이아웃 적용

---

## 6. 작업 계획

### Phase 1: 고장연결 탭 표준화 (1시간)
```
1. 색상 표준으로 변경
2. 폰트 크기 통일
3. 버튼 레이아웃 변경
4. 테스트
```

### Phase 2: 모달 표준화 (2시간)
```
1. DataSelectModal 리팩토링
2. 바둑판 그리드 레이아웃 적용
3. 버튼 위치 변경
4. 기타 모달 적용
5. 테스트
```

### Phase 3: 문서 업데이트 (30분)
```
1. UI_STANDARDIZATION_GUIDE.md 업데이트
2. MODAL_GRID_STANDARDIZATION.md 완성
3. README.md 업데이트
```

---

## 7. 예상 효과

### 사용자 경험
- ✅ 일관된 색상으로 직관적 이해
- ✅ 버튼 위치 통일로 빠른 조작
- ✅ 그리드 레이아웃으로 정돈된 느낌

### 개발 효율
- ✅ 표준화로 유지보수 용이
- ✅ 새 기능 추가 시 참고 가능
- ✅ 일관된 코드 스타일

---

## 8. 결론

**현재 상태**: 분석 탭은 완벽, 고장연결과 모달은 개선 필요  
**개선 방향**: 바둑판 레이아웃 + 색상 표준화  
**예상 시간**: 3.5시간  
**우선 작업**: 고장연결 탭 색상/폰트 표준화

---

## 📋 작업 이력

### ✅ 2025-12-30 오후 - 폰트 표준화 완료
- constants.ts에 FONT_SIZES, FONT_WEIGHTS, HEIGHTS 추가
- 페이지 헤더: 13px (볼드 없음)
- 1단/2단 헤더: 12px, 높이 24px 통일
- 데이터 셀: 11px 통일
- 전체 탭 적용 완료 (10개 파일)
- 빌드 테스트 성공 ✅

### ✅ 2025-12-30 오전 - 색상 표준화 완료
- 3가지 색상 체계 (구조=파랑, 기능=초록, 고장=주황)
- 붉은색 제거, 부드러운 톤 적용
- 고장연결 탭 색상 적용 완료

---

**✨ 표준화로 더 나은 사용자 경험을 제공합니다!**

